@{
    ViewData["Title"] = "Individual Assessment";
    Layout = "~/Views/Shared/_MainLayout.cshtml";
}

@model PerformanceAppraisal.Repository.Models.AssessmentModels

<div class="card card-custom gutter-b">
    <div class="card-body">
        <div class="form-group row">
            <label class="col-xl-6 col-lg-6 col-form-label text-right font-weight-bold">Nama Karyawan (Employee Name) : </label>
            <label class="col-xl-6 col-lg-6 d-none d-lg-block col-form-label">@Model.ESM.Name</label>
            <label class="col-xl-6 col-lg-6 d-sm-none col-form-label text-right">@Model.ESM.Name</label>
        </div>
        <div class="form-group row">
            <label class="col-xl-6 col-lg-6 col-form-label text-right font-weight-bold">NIK (Employee ID) : </label>
            <label class="col-xl-6 col-lg-6 d-none d-lg-block col-form-label">@Model.ESM.NIK</label>
            <label class="col-xl-6 col-lg-6 d-sm-none col-form-label text-right">@Model.ESM.NIK</label>
        </div>
        <div class="form-group row">
            <label class="col-xl-6 col-lg-6 col-form-label text-right font-weight-bold">Jabatan (Position) : </label>
            <label class="col-xl-6 col-lg-6 d-none d-lg-block col-form-label">@Model.ESM.Position</label>
            <label class="col-xl-6 col-lg-6 d-sm-none col-form-label text-right">@Model.ESM.Position</label>
        </div>
        <div class="form-group row">
            <label class="col-xl-6 col-lg-6 col-form-label text-right font-weight-bold">Departemen (Department) : </label>
            <label class="col-xl-6 col-lg-6 d-none d-lg-block col-form-label">@Model.ESM.Department</label>
            <label class="col-xl-6 col-lg-6 d-sm-none col-form-label text-right">@Model.ESM.Department</label>
        </div>
        <div class="form-group row">
            <label class="col-xl-6 col-lg-6 col-form-label text-right font-weight-bold">Nama Atasan (Line Manager's Name) : </label>
            <label class="col-xl-6 col-lg-6 d-none d-lg-block col-form-label">John Wick</label>
            <label class="col-xl-6 col-lg-6 d-sm-none col-form-label text-right">John Wick</label>
        </div>
        <div class="form-group row my-auto">
            <label class="col-xl-6 col-lg-6 col-form-label text-right font-weight-bold">Tanggal Pembuatan (Create Date) : </label>
            <label class="col-xl-6 col-lg-6 d-none d-lg-block col-form-label">@DateTime.Now</label>
            <label class="col-xl-6 col-lg-6 d-sm-none col-form-label text-right">@DateTime.Now</label>
        </div>
    </div>
</div>

@using (Html.BeginForm("SaveFormAssessment", "Assessment", FormMethod.Post, new { @class = "form", id = "formAssessment", enctype = "multipart/form-data" }))
{
    <div class="card card-custom gutter-b">
        <!--begin::Header-->
        <div class="card-header border-0 py-5">
            <h3 class="card-title align-items-start flex-column">
                <span class="card-label font-weight-bolder text-dark">Business Goals</span>
                <span class="text-muted mt-3 font-weight-bold font-size-sm">Description here..</span>
            </h3>

        </div>
        <!--end::Header-->
        <!--begin::Body-->
        <div class="card-body py-0">
            <!--begin::Table-->
            <div class="table-responsive">
                <table class="table table-head-custom table-vertical-center" id="kt_advance_table_widget_1">
                    <thead>
                        <tr class="text-left">
                            <th class="pl-0" style="min-width:150px">Business Goals</th>
                            <th class="pr-0" style="width:120px;">Weight(%)</th>
                            <th style="min-width: 200px">Goal Achievement</th>
                            <th class="pr-0" style="width:200px;">Self Assessment</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="pl-0">

                                @if (Model.BODescription != null && !string.IsNullOrEmpty(Model.BODescription.ElementAt(0)))
                                {
                                    <input type="text" class="form-control" maxlength="200" name="BODescription" value="@Model.BODescription.ElementAt(0)" />
                                }
                                else
                                {
                                    <input type="text" class="form-control" maxlength="200" name="BODescription" />
                                }
                            </td>
                            <td>
                                @if (Model.BOWeight != null && !string.IsNullOrEmpty(Model.BOWeight.ElementAt(0).ToString()))
                                { 
                                    <input type="text" class="form-control" name="BOWeight" id="weight1" value="@Model.BOWeight.ElementAt(0)" onblur="OnWeightChange(this);" />
                                    <input type="hidden" id="currentweight1" value="@Model.BOWeight.ElementAt(0)" />
                                }
                                else
                                {
                                    <input type="text" class="form-control" name="BOWeight" id="weight1" onblur="OnWeightChange(this);" />
                                    <input type="hidden" id="currentweight1" />
                                }
                            </td>
                            <td>
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    @if (Model.BOGoals != null && !string.IsNullOrEmpty(Model.BOGoals.ElementAt(0)))
                                    {
                                        <input type="text" class="form-control" maxlength="200" name="BOGoals" value="@Model.BOGoals.ElementAt(0)" />
                                    }
                                    else
                                    {
                                        <input type="text" class="form-control" maxlength="200" name="BOGoals" />
                                    }
                                </span>
                            </td>
                            <td>
                                @if (Model.BOEmployeeScore != null && !string.IsNullOrEmpty(Model.BOEmployeeScore.ElementAt(0)))
                                {
                                    <select name="BOEmployeeScore" id="employeeScore1" onchange="OnScoreChange(this);" class="form-control">
                                        @if(Model.BOEmployeeScore.ElementAt(0) == "1")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1" selected>Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                        else if (Model.BOEmployeeScore.ElementAt(0) == "2")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2" selected>Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                        else if (Model.BOEmployeeScore.ElementAt(0) == "3")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3" selected>Exceeds Expectation</option>
                                        }
                                        else
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                        
                                    </select>
                                    <input type="hidden" id="rawScore1" name="rawScore" value="@Model.BOEmployeeScore.ElementAt(0)" />
                                }
                                else
                                {
                                    <select name="BOEmployeeScore" id="employeeScore1" onchange="OnScoreChange(this);" class="form-control">
                                        <option value="0">Please Select</option>
                                        <option value="1">Needs Improvement</option>
                                        <option value="2">Meets Expectation</option>
                                        <option value="3">Exceeds Expectation</option>
                                    </select>
                                    <input type="hidden" id="rawScore1" name="rawScore" />
                                }
                            </td>
                        </tr>
                        <tr>
                            <td class="pl-0">
                                <input type="text" class="form-control" maxlength="200" name="BODescription" value="@Model.BODescription.ElementAt(1)" />
                            </td>
                            <td>
                                <input type="text" class="form-control" name="BOWeight" id="weight2" onblur="OnWeightChange(this);" value="@Model.BOWeight.ElementAt(1)" />
                                <input type="hidden" id="currentweight2" value="@Model.BOWeight.ElementAt(1)" />
                            </td>
                            <td>
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    <input type="text" class="form-control" maxlength="200" name="BOGoals" value="@Model.BOGoals.ElementAt(1)" />
                                </span>
                            </td>
                            <td>
                                @if (Model.BOEmployeeScore != null && !string.IsNullOrEmpty(Model.BOEmployeeScore.ElementAt(1)))
                                {
                                    <select name="BOEmployeeScore" id="employeeScore2" onchange="OnScoreChange(this);" class="form-control">
                                        @if (Model.BOEmployeeScore.ElementAt(1) == "1")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1" selected>Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                        else if (Model.BOEmployeeScore.ElementAt(1) == "2")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2" selected>Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                        else if (Model.BOEmployeeScore.ElementAt(1) == "3")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3" selected>Exceeds Expectation</option>
                                        }
                                        else
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }

                                    </select>
                                    <input type="hidden" id="rawScore2" name="rawScore" value="@Model.BOEmployeeScore.ElementAt(1)" />
                                }
                                else
                                {
                                    <select name="BOEmployeeScore" id="employeeScore2" onchange="OnScoreChange(this);" class="form-control">
                                        <option value="0">Please Select</option>
                                        <option value="1">Needs Improvement</option>
                                        <option value="2">Meets Expectation</option>
                                        <option value="3">Exceeds Expectation</option>
                                    </select>
                                    <input type="hidden" id="rawScore2" name="rawScore" />
                                }
                                <input type="hidden" id="rawScore2" name="rawScore" value="@Model.BOEmployeeScore.ElementAt(1)" />
                            </td>
                        </tr>
                        <tr>
                            <td class="pl-0">
                                <input type="text" class="form-control" maxlength="200" name="BODescription" value="@Model.BODescription.ElementAt(2)" />
                            </td>
                            <td>
                                <input type="text" class="form-control" name="BOWeight" id="weight3" value="@Model.BOWeight.ElementAt(2)" onblur="OnWeightChange(this);" />
                                <input type="hidden" id="currentweight3" value="@Model.BOWeight.ElementAt(2)" />
                            </td>
                            <td>
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    <input type="text" class="form-control" maxlength="200" name="BOGoals" value="@Model.BOGoals.ElementAt(2)" />
                                </span>
                            </td>
                            <td>
                                @if (Model.BOEmployeeScore != null && !string.IsNullOrEmpty(Model.BOEmployeeScore.ElementAt(1)))
                                {
                                    <select name="BOEmployeeScore" id="employeeScore3" onchange="OnScoreChange(this);" class="form-control">
                                        @if (Model.BOEmployeeScore.ElementAt(2) == "1")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1" selected>Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                        else if (Model.BOEmployeeScore.ElementAt(2) == "2")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2" selected>Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                        else if (Model.BOEmployeeScore.ElementAt(2) == "3")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3" selected>Exceeds Expectation</option>
                                        }
                                        else
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }

                                    </select>
                                    <input type="hidden" id="rawScore3" name="rawScore" value="@Model.BOEmployeeScore.ElementAt(2)" />
                                }
                                else
                                {
                                    <select name="BOEmployeeScore" id="employeeScore2" onchange="OnScoreChange(this);" class="form-control">
                                        <option value="0">Please Select</option>
                                        <option value="1">Needs Improvement</option>
                                        <option value="2">Meets Expectation</option>
                                        <option value="3">Exceeds Expectation</option>
                                    </select>
                                    <input type="hidden" id="rawScore3" name="rawScore" />
                                }
                                <input type="hidden" id="rawScore3" name="rawScore" />
                            </td>
                        </tr>
                        <tr>
                            <td class="pl-0">
                                <input type="text" class="form-control" maxlength="200" name="BODescription" value="@Model.BODescription.ElementAt(3)" />
                            </td>
                            <td>
                                <input type="text" class="form-control" name="BOWeight" id="weight4" value="@Model.BOWeight.ElementAt(3)" onblur="OnWeightChange(this);" />
                                <input type="hidden" id="currentweight4" />
                            </td>
                            <td>
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    <input type="text" class="form-control" maxlength="200" name="BOGoals" value="@Model.BOGoals.ElementAt(3)" />
                                </span>
                            </td>
                            <td>
                                @if (Model.BOEmployeeScore != null && !string.IsNullOrEmpty(Model.BOEmployeeScore.ElementAt(1)))
                                {
                                    <select name="BOEmployeeScore" id="employeeScore4" onchange="OnScoreChange(this);" class="form-control">
                                        @if (Model.BOEmployeeScore.ElementAt(3) == "1")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1" selected>Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                        else if (Model.BOEmployeeScore.ElementAt(3) == "2")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2" selected>Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                        else if (Model.BOEmployeeScore.ElementAt(3) == "3")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3" selected>Exceeds Expectation</option>
                                        }
                                        else
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }

                                    </select>
                                    <input type="hidden" id="rawScore4" name="rawScore" value="@Model.BOEmployeeScore.ElementAt(3)" />
                                }
                                else
                                {
                                    <select name="BOEmployeeScore" id="employeeScore4" onchange="OnScoreChange(this);" class="form-control">
                                        <option value="0">Please Select</option>
                                        <option value="1">Needs Improvement</option>
                                        <option value="2">Meets Expectation</option>
                                        <option value="3">Exceeds Expectation</option>
                                    </select>
                                    <input type="hidden" id="rawScore4" name="rawScore" />
                                }
                                <input type="hidden" id="rawScore4" name="rawScore" />
                            </td>
                        </tr>
                        <tr>
                            <td class="pl-0">
                                <input type="text" class="form-control" maxlength="200" name="BODescription" value="@Model.BODescription.ElementAt(4)" />
                            </td>
                            <td>
                                <input type="text" class="form-control" name="BOWeight" id="weight5" value="@Model.BOWeight.ElementAt(4)" onblur="OnWeightChange(this);" />
                                <input type="hidden" id="currentweight5" />
                            </td>
                            <td>
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    <input type="text" class="form-control" maxlength="200" name="BOGoals" value="@Model.BOGoals.ElementAt(4)" />
                                </span>
                            </td>
                            <td>
                                @if (Model.BOEmployeeScore != null && !string.IsNullOrEmpty(Model.BOEmployeeScore.ElementAt(1)))
                                {
                                    <select name="BOEmployeeScore" id="employeeScore5" onchange="OnScoreChange(this);" class="form-control">
                                        @if (Model.BOEmployeeScore.ElementAt(4) == "1")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1" selected>Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                        else if (Model.BOEmployeeScore.ElementAt(4) == "2")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2" selected>Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                        else if (Model.BOEmployeeScore.ElementAt(4) == "3")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3" selected>Exceeds Expectation</option>
                                        }
                                        else
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }

                                    </select>
                                    <input type="hidden" id="rawScore5" name="rawScore" value="@Model.BOEmployeeScore.ElementAt(4)" />
                                }
                                else
                                {
                                    <select name="BOEmployeeScore" id="employeeScore5" onchange="OnScoreChange(this);" class="form-control">
                                        <option value="0">Please Select</option>
                                        <option value="1">Needs Improvement</option>
                                        <option value="2">Meets Expectation</option>
                                        <option value="3">Exceeds Expectation</option>
                                    </select>
                                    <input type="hidden" id="rawScore5" name="rawScore" />
                                }
                                <input type="hidden" id="rawScore5" name="rawScore" />
                            </td>
                        </tr>
                        <tr>
                            <td class="pl-0">
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    Total Weight
                                </span>
                            </td>
                            <td>
                                <span id="totalweight" class="text-dark-75 font-weight-bolder d-block font-size-lg text-center">
                                    0
                                </span>
                                <input type="hidden" id="totweight" />
                            </td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td colspan="2" class="text-left pl-0">
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    NILAI AKHIR OBJEKTIF (diisi pada saat year-end review)
                                </span>
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    FINAL SCORE FOR BUSINESS GOALS (To be complete during year-end review)
                                </span>
                            </td>
                            <td>
                                <span id="numericalscore" class="text-dark-75 font-weight-bolder d-block font-size-lg text-right">
                                    @if(!string.IsNullOrEmpty(Model.BONumericalScore))
                                    {
                                        @Html.Raw(Model.BONumericalScore)
                                    }
                                    else
                                    {
                                        @Html.Raw("0");
                                    }
                                </span>
                                <input type="hidden" id="bonumericalscore" name="BONumericalScore" value="@Model.BONumericalScore" />
                            </td>
                            <td colspan="2">
                                <span id="descriptivescore" class="text-dark-75 font-weight-bolder d-block font-size-lg text-center">
                                    @if (!string.IsNullOrEmpty(Model.BODescriptiveScore))
                                    {
                                        @Html.Raw(Model.BODescriptiveScore)
                                    }
                                    else
                                    {
                                        @Html.Raw("-");
                                    }
                                </span>
                                <input type="hidden" id="bodescriptivescore" name="BODescriptiveScore" value="@Model.BODescriptiveScore" />
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!--end::Table-->
        </div>
        <!--end::Body-->
    </div>

    <div class="card card-custom gutter-b">
        <!--begin::Header-->
        <div class="card-header border-0 py-5">
            <h3 class="card-title align-items-start flex-column">
                <span class="card-label font-weight-bolder text-dark">Global Attitudes</span>
                <span class="text-muted mt-3 font-weight-bold font-size-sm">Description here..</span>
            </h3>

        </div>
        <!--end::Header-->
        <!--begin::Body-->
        <div class="card-body py-0">
            <!--begin::Table-->
            <div class="table-responsive">
                <table class="table table-head-custom table-vertical-center" id="kt_advance_table_widget_1">
                    <thead>
                        <tr class="text-left">
                            <th class="pl-0" style="width:330px">Global Attitudes</th>
                            <th class="pr-0" style="width:100px">Weight(%)</th>
                            <th style="min-width: 200px">Expected Behavior</th>
                            <th style="min-width: 200px">Demonstrated Behavior</th>
                            <th class="pr-0" style="width:200px;">Self Assessment</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="pl-0">
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    Simple
                                </span>
                                <span class="text-muted text-justify">
                                    Mencari cara untuk membuat pekerjaan menjadi lebih sederhana dan efisien
                                </span>
                            </td>
                            <td>
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg text-center">
                                    <input type="number" class="form-control disabled" readonly value="25" />
                                </span>
                            </td>
                            <td>
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    <input type="text" class="form-control" maxlength="200" name="GBExpectedBehavior" value="@Model.GBExpectedBehavior.ElementAt(0)" />
                                </span>
                            </td>
                            <td>
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    <input type="text" class="form-control" maxlength="200" name="GBDemonstatedBehavior" value="@Model.GBDemonstatedBehavior.ElementAt(0)" />
                                </span>
                            </td>
                            <td>
                                @if (Model.GBEmployeeScore != null && !string.IsNullOrEmpty(Model.GBEmployeeScore.ElementAt(0)))
                                {
                                    <select class="form-control" id="gbemployeescore1" onchange="OnGBScoreChange(this);" name="GBEmployeeScore">
                                        @if(Model.GBEmployeeScore.ElementAt(0) == "1")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1" selected>Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                        else @if(Model.GBEmployeeScore.ElementAt(0) == "2")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2" selected>Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                        else @if(Model.GBEmployeeScore.ElementAt(0) == "3")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3" selected>Exceeds Expectation</option>
                                        }
                                        else
                                        {
                                            <option value="0" selected>Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                    </select>
                                    <input type="hidden" id="gbrawscore1" value="@Model.GBEmployeeScore.ElementAt(0)" />
                                }
                                else
                                {
                                    <select class="form-control" id="gbemployeescore1" onchange="OnGBScoreChange(this);" name="GBEmployeeScore">
                                        <option value="0">Please Select</option>
                                        <option value="1">Needs Improvement</option>
                                        <option value="2">Meets Expectation</option>
                                        <option value="3">Exceeds Expectation</option>
                                    </select>
                                    <input type="hidden" id="gbrawscore1" />
                                }
                            </td>
                        </tr>
                        <tr>
                            <td class="pl-0">
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    Be Bold
                                </span>
                                <span class="text-muted text-justify">
                                    Membuat suatu hal terjadi, dari ide menjadi tindakan nyata dan mampu membuat keputusan dengan cepat dengan memperhitungkan resikonya
                                </span>
                            </td>
                            <td>
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg text-center">
                                    <input type="number" class="form-control" readonly value="25" />
                                </span>
                            </td>
                            <td>
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    <input type="text" class="form-control" maxlength="200" name="GBExpectedBehavior" value="@Model.GBExpectedBehavior.ElementAt(1)" />
                                </span>
                            </td>
                            <td>
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    <input type="text" class="form-control" maxlength="200" name="GBDemonstatedBehavior" value="@Model.GBDemonstatedBehavior.ElementAt(1)" />
                                </span>
                            </td>
                            <td>
                                @if (Model.GBEmployeeScore != null && !string.IsNullOrEmpty(Model.GBEmployeeScore.ElementAt(1)))
                                {
                                    <select class="form-control" id="gbemployeescore2" onchange="OnGBScoreChange(this);" name="GBEmployeeScore">
                                        @if(Model.GBEmployeeScore.ElementAt(1) == "1")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1" selected>Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                        else @if(Model.GBEmployeeScore.ElementAt(1) == "2")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2" selected>Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                        else @if(Model.GBEmployeeScore.ElementAt(1) == "3")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3" selected>Exceeds Expectation</option>
                                        }
                                        else
                                        {
                                            <option value="0" selected>Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                    </select>
                                    <input type="hidden" id="gbrawscore2" value="@Model.GBEmployeeScore.ElementAt(1)" />
                                }
                                else
                                {
                                    <select class="form-control" id="gbemployeescore2" onchange="OnGBScoreChange(this);" name="GBEmployeeScore">
                                        <option value="0">Please Select</option>
                                        <option value="1">Needs Improvement</option>
                                        <option value="2">Meets Expectation</option>
                                        <option value="3">Exceeds Expectation</option>
                                    </select>
                                    <input type="hidden" id="gbrawscore2" />
                                }
                            </td>
                        </tr>
                        <tr>
                            <td class="pl-0">
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    Be Dependable
                                </span>
                                <span class="text-muted text-justify">
                                    Memahami tanggung jawab dengan baik, jujur dengan performa dan terbuka dalam memberikan umpan balik kepada sesama rekan kerja
                                </span>
                            </td>
                            <td>
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg text-center">
                                    <input type="number" class="form-control disabled" readonly value="25" />
                                </span>
                            </td>
                            <td>
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    <input type="text" class="form-control" maxlength="200" name="GBExpectedBehavior" value="@Model.GBExpectedBehavior.ElementAt(2)" />
                                </span>
                            </td>
                            <td>
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    <input type="text" class="form-control" maxlength="200" name="GBDemonstatedBehavior" value="@Model.GBDemonstatedBehavior.ElementAt(2)" />
                                </span>
                            </td>
                            <td>
                                @if (Model.GBEmployeeScore != null && !string.IsNullOrEmpty(Model.GBEmployeeScore.ElementAt(2)))
                                {
                                    <select class="form-control" id="gbemployeescore3" onchange="OnGBScoreChange(this);" name="GBEmployeeScore">
                                        @if(Model.GBEmployeeScore.ElementAt(2) == "1")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1" selected>Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                        else @if(Model.GBEmployeeScore.ElementAt(2) == "2")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2" selected>Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                        else @if(Model.GBEmployeeScore.ElementAt(2) == "3")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3" selected>Exceeds Expectation</option>
                                        }
                                        else
                                        {
                                            <option value="0" selected>Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                    </select>
                                    <input type="hidden" id="gbrawscore3" value="@Model.GBEmployeeScore.ElementAt(2)" />
                                }
                                else
                                {
                                    <select class="form-control" id="gbemployeescore3" onchange="OnGBScoreChange(this);" name="GBEmployeeScore">
                                        <option value="0">Please Select</option>
                                        <option value="1">Needs Improvement</option>
                                        <option value="2">Meets Expectation</option>
                                        <option value="3">Exceeds Expectation</option>
                                    </select>
                                    <input type="hidden" id="gbrawscore3" />
                                }
                            </td>
                        </tr>
                        <tr>
                            <td class="pl-0">
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    One Voice
                                </span>
                                <span class="text-muted text-justify">
                                    Memiliki pola pikir "One VOICE" yang mau berkolaborasi, menghargai perbedaan dalam tim dan mau mendengar sesama rekan kerja
                                </span>
                            </td>
                            <td>
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg text-center">
                                    <input type="number" class="form-control disabled" readonly value="25" />
                                </span>
                            </td>
                            <td>
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    <input type="text" class="form-control" maxlength="200" name="GBExpectedBehavior" value="@Model.GBExpectedBehavior.ElementAt(3)" />
                                </span>
                            </td>
                            <td>
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    <input type="text" class="form-control" maxlength="200" name="GBDemonstatedBehavior" value="@Model.GBDemonstatedBehavior.ElementAt(3)" />
                                </span>
                            </td>
                            <td>
                                @if (Model.GBEmployeeScore != null && !string.IsNullOrEmpty(Model.GBEmployeeScore.ElementAt(3)))
                                {
                                    <select class="form-control" id="gbemployeescore4" onchange="OnGBScoreChange(this);" name="GBEmployeeScore">
                                        @if(Model.GBEmployeeScore.ElementAt(3) == "1")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1" selected>Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                        else @if(Model.GBEmployeeScore.ElementAt(3) == "2")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2" selected>Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                        else @if(Model.GBEmployeeScore.ElementAt(3) == "3")
                                        {
                                            <option value="0">Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3" selected>Exceeds Expectation</option>
                                        }
                                        else
                                        {
                                            <option value="0" selected>Please Select</option>
                                            <option value="1">Needs Improvement</option>
                                            <option value="2">Meets Expectation</option>
                                            <option value="3">Exceeds Expectation</option>
                                        }
                                    </select>
                                    <input type="hidden" id="gbrawscore4" value="@Model.GBEmployeeScore.ElementAt(3)" />
                                }
                                else
                                {
                                    <select class="form-control" id="gbemployeescore4" onchange="OnGBScoreChange(this);" name="GBEmployeeScore">
                                        <option value="0">Please Select</option>
                                        <option value="1">Needs Improvement</option>
                                        <option value="2">Meets Expectation</option>
                                        <option value="3">Exceeds Expectation</option>
                                    </select>
                                    <input type="hidden" id="gbrawscore4" />
                                }
                            </td>
                        </tr>
                        <tr>
                            <td class="pl-0">
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    Total Weight
                                </span>
                            </td>
                            <td>
                                <span id="totalweight" class="text-dark-75 font-weight-bolder d-block font-size-lg text-center">
                                    100
                                </span>
                            </td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td colspan="3" class="text-left pl-0">
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    NILAI AKHIR GLOBAL FLAGSHIP BEHAVIORS (diisi pada saat year-end review)
                                </span>
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    FINAL SCORE FOR GLOBAL FLAGSHIP BEHAVIORS (To be complete during year-end review)
                                </span>
                            </td>
                            <td>
                                <span id="totalgbscore" class="text-dark-75 font-weight-bolder d-block font-size-lg text-right">
                                    @if(!string.IsNullOrEmpty(Model.GBNumericalScore))
                                    {
                                        Html.Raw(Model.GBNumericalScore);
                                    }
                                    else
                                    {
                                        Html.Raw("0");
                                    }
                                </span>
                                <input type="hidden" name="GBNumericalScore" id="gbnumericalscore" value="@Model.GBNumericalScore" />
                            </td>
                            <td class="min-w-200px pr-0">
                                <span id="gbdescscore" class="text-dark-75 font-weight-bolder d-block font-size-lg text-right">
                                    @if (!string.IsNullOrEmpty(Model.GBDescriptiveScore))
                                    {
                                        Html.Raw(Model.GBDescriptiveScore);
                                    }
                                    else
                                    {
                                        Html.Raw("-");
                                    }
                                </span>
                                <input type="hidden" name="GBDescriptiveScore" id="gbdescriptivescore" value="@Model.GBDescriptiveScore" />
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!--end::Table-->
        </div>
        <!--end::Body-->
    </div>

    <div class="card card-custom gutter-b">
        <!--begin::Header-->
        <div class="card-header border-0 py-5">
            <h3 class="card-title align-items-start flex-column">
                <span class="card-label font-weight-bolder text-dark">Nilai Akhir Performa</span>
                <span class="text-muted mt-3 font-weight-bold font-size-sm">Overall Rating</span>
            </h3>

        </div>
        <!--end::Header-->
        <!--begin::Body-->
        <div class="card-body py-0">
            <!--begin::Table-->
            <div class="table-responsive">
                <table class="table table-head-custom table-vertical-center" id="kt_advance_table_widget_1">

                    <tbody>
                        <tr>
                            <td class="pl-0">
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    Nilai Angka (Numerical Score)
                                </span>
                            </td>
                            <td>
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg text-center">
                                    <span id="labelnumericoverallscore">0</span>
                                </span>
                                <input type="hidden" name="OverallNumericalScore" id="overallnumericalscore" />
                            </td>
                        </tr>
                        <tr>
                            <td class="pl-0">
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    Nilai Deskriptif (Descriptive Score)
                                </span>
                            </td>
                            <td>
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg text-center">
                                    <span id="labeldescriptiveoverallscore">-</span>
                                </span>
                                <input type="hidden" name="OverallDescriptiveScore" id="overalldescriptivescore" />
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!--end::Table-->
        </div>
        <!--end::Body-->
    </div>

    <div class="card card-custom gutter-b">
        <!--begin::Header-->
        <div class="card-header border-0 py-5">
            <h3 class="card-title align-items-start flex-column">
                <span class="card-label font-weight-bolder text-dark">Status Mobilitas (Mobility Status)</span>
                <span class="text-muted mt-3 font-weight-bold font-size-sm">(Harap Beri tanda pada box yang tepat, Please tick appropriate box)</span>
            </h3>

        </div>
        <!--end::Header-->
        <!--begin::Body-->
        <div class="card-body py-0">
            <!--begin::Table-->
            <div class="table-responsive">
                <table class="table table-head-custom table-vertical-center" id="kt_advance_table_widget_1">
                    <thead>
                        <tr class="text-center">
                            <th>Siap Ditempatkan Dimana Saja(Mobile)</th>
                            <th>Siap ditempatkan diberapa lokasi saja(Partially Mobile)</th>
                            <th>Tidak Siap Dipindah(Not Mobile)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="px-40">
                                <div class="radio-inline px-20">
                                    <label class="radio radio-solid">
                                        <input type="radio" name="MobilityStatusId" checked="checked" value="1" />
                                        <span></span>
                                    </label>
                                </div>
                            </td>
                            <td class="px-40">
                                <div class="radio-inline pl-20">
                                    @*<label class="radio radio-solid">
                                            <input type="radio" name="rbt9" checked="checked" value="1" />
                                            <span></span>
                                        </label>*@
                                    <input type="text" name="MobilityStatusDesc" class="form-control" />
                                </div>
                            </td>
                            <td class="px-40">
                                <div class="radio-inline pl-10">
                                    <label class="radio radio-solid">
                                        <input type="radio" name="MobilityStatusId" checked="checked" value="3" />
                                        <span></span>
                                    </label>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!--end::Table-->
        </div>
        <!--end::Body-->
    </div>

    <div class="card card-custom gutter-b">
        <!--begin::Header-->
        <div class="card-header border-0 py-5">
            <h3 class="card-title align-items-start flex-column">
                <span class="card-label font-weight-bolder text-dark">Aspirasi Karir</span>
                <span class="text-muted mt-3 font-weight-bold font-size-sm">(Harap Beri tanda pada box yang tepat, Please tick appropriate box)</span>
            </h3>

        </div>
        <!--end::Header-->
        <!--begin::Body-->
        <div class="card-body py-0">
            <!--begin::Table-->
            <div class="table-responsive">
                <table class="table table-head-custom table-vertical-center" id="kt_advance_table_widget_1">
                    <thead>
                        <tr class="text-center">
                            <th>Departemen(Function/Department)</th>
                            <th>Subdepartemen(Sub Department)</th>
                            <th>Komentar(Comments)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <select class="form-control" name="DepartmentId" id="Department" onchange="getsubdeparment();">
                                    @if (ViewBag.department != null)
                                    {
                                        foreach (var item in ViewBag.department)
                                        {
                                            if (ViewBag.departmentId == item.Id.ToString())
                                            {
                                                <option value="@item.Id" selected>@item.Name</option>
                                            }
                                            else
                                            {
                                                <option value="@item.Id">@item.Name</option>
                                            }
                                        }
                                    }
                                    else
                                    {
                                        <option value="">No Department</option>
                                    }
                                </select>
                            </td>
                            <td>
                                <select class="form-control" name="SubDepartmentId" id="Subdeparment">
                                    @if (ViewBag.subdepartment != null)
                                    {
                                        foreach (var item in ViewBag.subdepartment)
                                        {
                                            if (ViewBag.subdepartmentId == item.Id.ToString())
                                            {
                                                <option value="@item.Id" selected>@item.Name</option>
                                            }
                                            else
                                            {
                                                <option value="@item.Id">@item.Name</option>
                                            }
                                        }
                                    }
                                    else
                                    {
                                        <option value="">No SubDeparment</option>
                                    }
                                </select>
                            </td>
                            <td>
                                <textarea class="form-control" name="CareerAspirationComment"></textarea>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!--end::Table-->
        </div>
        <!--end::Body-->
    </div>

    <div class="card card-custom gutter-b">
        <!--begin::Header-->
        <div class="card-header border-0 py-5">
            <h3 class="card-title align-items-start flex-column">
                <span class="card-label font-weight-bolder text-dark">Rencana Pengembangan Diri(Development Plan)</span>
                <span class="text-muted mt-3 font-weight-bold font-size-sm">Description here..</span>
            </h3>

        </div>
        <!--end::Header-->
        <!--begin::Body-->
        <div class="card-body py-0">
            <!--begin::Table-->
            <div class="table-responsive">
                <table class="table table-head-custom table-vertical-center" id="kt_advance_table_widget_1">
                    <tbody>
                        <tr>
                            <td class="pl-0 max-w-100px">
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    Rencana Pengembangan Diri
                                </span>
                                <span class="text-muted">
                                    Development Plan
                                </span>
                            </td>
                            <td>
                                <textarea class="form-control" name="DPPlan"></textarea>
                            </td>
                        </tr>
                        <tr>
                            <td class="pl-0 max-w-100px">
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    Metode yang digunakan
                                </span>
                                <span class="text-muted">
                                    Methods
                                </span>
                            </td>
                            <td>
                                <textarea class="form-control" name="DPMethods"></textarea>
                            </td>
                        </tr>
                        <tr>
                            <td class="pl-0 max-w-100px">
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    Kelebihan Karyawan(Strength Area)
                                </span>
                                <span class="text-muted">
                                    Informasi ini diberikan oleh atasan pada saat penilaian akhir (Information provided by manager in year-end review stage)
                                </span>
                            </td>
                            <td>
                                <textarea class="form-control" name="DPStrengthArea"></textarea>
                            </td>
                        </tr>
                        <tr>
                            <td class="pl-0 max-w-100px">
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    Area yang perlu dikembangkan (Development Area)
                                </span>
                                <span class="text-muted">
                                    Informasi ini diberikan oleh atasan pada saat penilaian akhir (Information provided by manager in year-end review stage)
                                </span>
                            </td>
                            <td>
                                <textarea class="form-control" name="DPDevelopmentArea"></textarea>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!--end::Table-->
        </div>
        <!--end::Body-->
    </div>

    <div class="card card-custom gutter-b">
        <!--begin::Header-->
        <div class="card-header border-0 py-5">
            <h3 class="card-title align-items-start flex-column">
                <span class="card-label font-weight-bolder text-dark">Komentar Akhir</span>
                <span class="text-muted mt-3 font-weight-bold font-size-sm">Description here..</span>
            </h3>

        </div>
        <!--end::Header-->
        <!--begin::Body-->
        <div class="card-body py-0">
            <!--begin::Table-->
            <div class="table-responsive">
                <table class="table table-head-custom table-vertical-center" id="kt_advance_table_widget_1">
                    <thead>
                        <tr class="text-center">
                            <th></th>
                            <th>Karyawan(Employee)</th>
                            <th>Atasan(Manager)</th>
                            <th>Atasan dari atasan langsung (2nd Level Manager)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="pl-0 max-w-150px">
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    Komentar Akhir(Final Comments)
                                </span>
                            </td>
                            <td>
                                <textarea class="form-control" name="EmployeeComment"></textarea>
                            </td>
                            <td>
                                <textarea class="form-control" name="ManagerComment"></textarea>
                            </td>
                            <td>
                                <textarea class="form-control" name="SecondLevelManagerComment"></textarea>
                            </td>
                        </tr>
                        <tr>
                            <td class="pl-0 max-w-150px">
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    Tanda Tangan (Signature)
                                </span>
                            </td>
                            <td>
                                <textarea class="form-control"></textarea>
                            </td>
                            <td>
                                <textarea class="form-control"></textarea>
                            </td>
                            <td>
                                <textarea class="form-control"></textarea>
                            </td>
                        </tr>
                        <tr>
                            <td class="pl-0 max-w-150px">
                                <span class="text-dark-75 font-weight-bolder d-block font-size-lg">
                                    Tanda Tangan Persetujuan Penilaian Akhir (Year End Review Signature)
                                </span>
                            </td>
                            <td>
                                <textarea class="form-control"></textarea>
                            </td>
                            <td>
                                <textarea class="form-control"></textarea>
                            </td>
                            <td>
                                <textarea class="form-control"></textarea>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!--end::Table-->
        </div>
        <!--end::Body-->
    </div>
    <input type="hidden" name="submit" id="submitform" />
    <div class="row">
        <div class="col-lg-6">
            <button type="submit" class="btn btn-primary mr-2" id="savebtn">Save</button>
            <button type="button" class="btn btn-warning" id="btnSubmit" onclick="SubForm(this);">Submit</button>
        </div>
    </div>
}


<script>
    //$(document).ready(function () {
    //    $(document).on("click", ".color-grey", function () {

    //    }
    //});
    function SubForm(x) {
        document.getElementById("submitform").value = true;
        document.getElementById("savebtn").click();
    }

    function OnWeightChange(x) {
        var initvalue = x.value;
        if (initvalue === "")
            initvalue = 0;
        var weight = parseInt(initvalue);
        var id = x.id.replace("weight", "");
        var currentweight = $("#currentweight" + id).val();
        var labelTotalWeight = $("#totalweight")[0];
        var totalWeight = $("#totweight").val();
        var employeeScore = $("#employeeScore" + id);
        if (currentweight === "")
            currentweight = 0;
        else
            currentweight = parseInt(currentweight);
        if (totalWeight === "")
            totalWeight = 0;
        else
            totalWeight = parseInt(totalWeight);
        //totalWeight = weight + totalWeight;
        totalWeight = totalWeight - currentweight;
        totalWeight = totalWeight + weight;
        if (totalWeight > 100) {
            weight = currentweight;
            x.value = currentweight;
            alert("Total Weight Cannot More Than 100.");
            return;
        }
        document.getElementById("currentweight" + id).value = weight;
        document.getElementById("totweight").value = totalWeight;
        labelTotalWeight.textContent = totalWeight;

        if (employeeScore.val() != "")
            OnScoreChange(employeeScore[0]);

    }
    function OnScoreChange(x) {
        var id = x.id.replace("employeeScore", "");
        var score = parseInt(x.value);
        var labelNumericalScore = $("#numericalscore")[0];
        var weight = $("#weight" + id + "").val();
        var rawscore = $("#rawScore" + id + "").val();
        if (rawscore === "")
            rawscore = 0;
        else
            rawscore = Number(rawscore);
        if (weight === "")
            weight = 0;
        else
            weight = parseInt(weight);

        var bonumericalscore = $("#bonumericalscore").val();
        if (bonumericalscore === "")
            bonumericalscore = 0;
        else
            bonumericalscore = Number(bonumericalscore);
        if (rawscore > 0)
            bonumericalscore = bonumericalscore - rawscore;

        rawscore = Number(score * (weight / 100)).toFixed(2);
        document.getElementById("rawScore" + id).value = Number(rawscore).toFixed(2);
        bonumericalscore = Number(bonumericalscore) + Number(rawscore);
        document.getElementById("bonumericalscore").value = Number(bonumericalscore).toFixed(2);
        labelNumericalScore.textContent = Number(bonumericalscore).toFixed(2);

        var descriptivevalue = "";
        if (bonumericalscore >= 2.5)
            descriptivevalue = "Exceeds Expectation";
        else if (bonumericalscore >= 1.69)
            descriptivevalue = "Meets Expectation";
        else
            descriptivevalue = "Needs Improvements";

        document.getElementById("descriptivescore").value = descriptivevalue;
        $("#descriptivescore")[0].textContent = descriptivevalue;
        document.getElementById("bodescriptivescore").value = descriptivevalue;

        CalculateOverallScore();
    }
    function OnGBScoreChange(x) {
        var id = x.id.replace("gbemployeescore", "");
        var score = parseInt(x.value);
        var labelNumericalScore = $("#totalgbscore")[0];
        var weight = 25;
        var gbrawscore = $("#gbrawscore" + id + "").val();
        if (gbrawscore === "")
            gbrawscore = 0;
        else
            gbrawscore = Number(gbrawscore);

        var gbnumericalscore = $("#gbnumericalscore").val();
        if (gbnumericalscore === "")
            gbnumericalscore = 0;
        else
            gbnumericalscore = Number(gbnumericalscore);
        if (gbrawscore > 0)
            gbnumericalscore = gbnumericalscore - gbrawscore;

        gbrawscore = Number(score * (weight / 100)).toFixed(2);
        document.getElementById("gbrawscore" + id).value = Number(gbrawscore).toFixed(2);
        gbnumericalscore = Number(gbnumericalscore) + Number(gbrawscore);
        document.getElementById("gbnumericalscore").value = Number(gbnumericalscore).toFixed(2);
        labelNumericalScore.textContent = Number(gbnumericalscore).toFixed(2);

        var descriptivevalue = "";
        if (gbnumericalscore >= 2.5)
            descriptivevalue = "Exceeds Expectations";
        else if (gbnumericalscore >= 1.69)
            descriptivevalue = "Meets Expectations";
        else
            descriptivevalue = "Needs Improvements";

        document.getElementById("gbdescriptivescore").value = descriptivevalue;
        $("#gbdescscore")[0].textContent = descriptivevalue;

        CalculateOverallScore();
    }
    function CalculateOverallScore() {
        var gbnumericalscore = $("#gbnumericalscore").val();
        var bonumericalscore = $("#bonumericalscore").val();
        if (gbnumericalscore === "")
            gbnumericalscore = 0;
        else
            gbnumericalscore = Number(gbnumericalscore);
        if (bonumericalscore === "")
            bonumericalscore = 0;
        else
            bonumericalscore = Number(bonumericalscore);
        var overallscore = Number((gbnumericalscore * (50 / 100)) + (bonumericalscore * (50 / 100)));
        var overalldescriptivescore = "";
        if (overallscore >= 2.5)
            overalldescriptivescore = "Exceeds Expectations";
        else if (overallscore >= 1.69)
            overalldescriptivescore = "Meets Expectations";
        else
            overalldescriptivescore = "Needs Improvements";
        document.getElementById("overallnumericalscore").value = overallscore;
        document.getElementById("overalldescriptivescore").value = overalldescriptivescore;
        $("#labeldescriptiveoverallscore")[0].textContent = overalldescriptivescore;
        $("#labelnumericoverallscore")[0].textContent = Number(overallscore);
    }
</script>